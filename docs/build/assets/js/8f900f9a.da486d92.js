"use strict";(self.webpackChunk_notemine_docs=self.webpackChunk_notemine_docs||[]).push([[482],{8523:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var s=t(2540),i=t(3023);const r={},o="@notemine/core",a={id:"packages/core",title:"@notemine/core",description:"notemine mines nostr notes, is written in rust, targets web and compiles to wasm. Variable difficulty and realtime hashrate. There's a demo.",source:"@site/docs/packages/core.md",sourceDirName:"packages",slug:"/packages/core",permalink:"/packages/core",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"notemine\u26cf\ufe0f",permalink:"/packages/"},next:{title:"@notemine/reactjs",permalink:"/packages/reactjs"}},c={},l=[{value:"deps",id:"deps",level:2},{value:"build",id:"build-1",level:2},{value:"run demo",id:"run-demo",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"noteminecore",children:"@notemine/core"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"notemine"})," mines nostr notes, is written in rust, targets web and compiles to wasm. Variable difficulty and realtime hashrate. There's a ",(0,s.jsx)(n.a,{href:"https://sandwichfarm.github.io/notemine",children:"demo"}),"."]}),"\n",(0,s.jsx)(n.h1,{id:"related",children:"related"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/sandwichfarm/notemine-js",children:(0,s.jsx)(n.code,{children:"notemine-js"})})," is an npm module that wraps this package with observables for use with modern stacks."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/plebemineira/notemine_hw",children:(0,s.jsx)(n.code,{children:"notemine-hw"})})," is a fork ported to a cli application that leverages hardware acceleration"]}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"install",children:"install"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"npm install notemine\npnpm install notemine\nyarn add notemine\n"})}),"\n",(0,s.jsx)(n.h1,{id:"usage",children:"usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import init, { mine_event } from \'./pkg/notemine.js\';\n\n//You shouldn\'t need to pass id or sig, and created_at is optional.\nconst event = {\n  "pubkey": "e771af0b05c8e95fcdf6feb3500544d2fb1ccd384788e9f490bb3ee28e8ed66f",\n  "kind": 1,\n  "tags": [],\n  "content": "hello world",\n}\n\nconst difficulty = 21\nlet cancel = false \n\nfunction reportProgress(hashRate = undefined, bestPow = undefined) {\n  if(hashRate){\n    console.log(`hash rate: ${hashRate}`);\n  }\n  if(bestPow){\n    console.log(\'best pow: \', bestPow);\n  }\n}\n\nfunction shouldCancel() {\n  //Add some logic here\n  //if it returns true, wasm should stop mining.\n  return cancel \n}\n\nconst run = async () => {\n  //this is synchronous.\n  const minedResult = mine_event(\n    event,\n    difficulty,\n    startNonce.toString(),\n    nonceStep.toString(),\n    reportProgress,\n    shouldCancel\n  );\n}\nawait init({});\n'})}),"\n",(0,s.jsx)(n.h1,{id:"build",children:"build"}),"\n",(0,s.jsx)(n.h2,{id:"deps",children:"deps"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"cargo install wasm-pack\n"})}),"\n",(0,s.jsx)(n.h2,{id:"build-1",children:"build"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"cargo clean\nwasm-pack build --target web --release\n"})}),"\n",(0,s.jsx)(n.h2,{id:"run-demo",children:"run demo"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"cd demo && npx serve \n"})}),"\n",(0,s.jsx)(n.h1,{id:"license",children:"license"}),"\n",(0,s.jsx)(n.p,{children:"GNU General Public License v3.0"})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},3023:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(3696);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);